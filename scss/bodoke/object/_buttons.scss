// _buttons.scss

// =================
// CONFIGURACION
// =================
$button-height: 					40px; // ex 32px
$button-font-size:					14px;
$button-offset: 					1.1em; // ex $col-offset
$button-radius:						3px;
$button-border-width:				1px;
$button-pressed-offset:				$button-border-width;
$button-default-bg:					$black_90;
$button-default-text:				$text-color;
$button-transition-time:			$transition-speed; // config.scss
$button-colors:						$buttons-color-pallete;	// colors.scss


// SETTINGS
$button-has-box-shadow:				false;
$button-has-text-shadow:			false;
$button-has-border:					true;
$button-has-background:				false;
$button-has-background-gradient:	false;
$button-has-active-pseudo:			false;


// =======================
// BUTTON COLORS
// =======================
$shadow-alpha: 				0.8;
$percent:					20%;
$dark-button-text-color:	$black_97;

@mixin button-color( $name, $color ) {
	&.button-#{$name} {
		// - Flat Button
		@if ( $button-has-background ) {
			// SI tiene fondo
			@if ( $button-has-background-gradient == false ) {
				// Si no tiene fondo como gradiente 
				@include background( $color );
			} @else {
				// Si tiene fondo como gradiente 
				// Compass stable release
				// ============================
				// - Gradient Button
				// @include background-image(linear-gradient( center top, $color, darken($color, 10%) ) );
				
				// Compass 1.0.0 ALPHA
				// ============================
				// - Gradient Button
				// @include background( linear-gradient( 180deg, $color, darken($color, 10%) ) );
			}
			@if lightness($color) > lightness(#aaa) {
				color: $text-color;
			} @else {
				color: $dark-button-text-color;
			}
			@if ( $button-has-active-pseudo ) {
				// Tiene fondo, y tiene estado active
				&:active, &.active {
					@if ( $button-has-box-shadow ) {
						@include box-shadow( inset 0 3px 0px 0px darken( $color, 15% ) );
					}
				}			
			}
			&:hover {
				@include background( darken($color, 10%) );
			}
		} @else {
			// NO tiene fondo
			color: $color;
			@if ( $button-has-active-pseudo ) {
				&:hover, &:active, &.active {
					@include background( darken($color, 10%) );
				}
			} @elseif ( $button-has-border ) {
				// Si no tiene fondo, pero tiene borde
				// en :hover el fondo se muestra transparentado
				&:hover, &:active, &.active, &.button-bg {
					@include background( rgba($color, 0.2) );				
				}
				// "button-bg" - fuerza al boton (sin fondo) para que lo lleve
				&.button-bg {
					&:hover, &:active, &.active {
						@include background( darken($color, 15%) );
						@if lightness($color) > lightness(#aaa) {
							color: $text-color;
						} @else {
							color: $dark-button-text-color;
						}
					}
				}
			}
		}

		@if ( $button-has-box-shadow ) {
			border-color: darken( $color, 15% );
			// @include box-shadow( 0 $button-border-width 0 0 darken( $color, 15% ) ); 
		}
		@if ( $button-has-text-shadow ) {
			// @include text-shadow( 0 1px 0 darken( rgba( $color, 0.8), 20% ) );
			@include text-shadow( 0px 1px 0px rgba( darken( $color, $percent ), $shadow-alpha ) );
		}
	}
}
@mixin button-group-color( $name, $color ) {
	&.button-#{$name} {
		.button {
			@if lightness($color) > lightness(#aaa) {
				color: $text-color;
			} @else {
				color: $dark-button-text-color;
			}

			@if ( $button-has-background ) {
				@include background( $color );
			}
			// border-color: darken( $color, 15% );
			@if ( $button-has-box-shadow ) {
				@include box-shadow( 0 $button-border-width 0 0 darken( $color, 15% ) );
			}
			@if ( $button-has-text-shadow ) {
				@include text-shadow( 0 1px 0 darken( rgba( $color, 0.8), 20% ) );
			}
			&:hover { 
				@if ( $button-has-background ) {
					@include background( darken( $color, 10% ) );
				}				
			}
			@if ( $button-has-active-pseudo ) {
				&:active { 
					@if ( $button-has-box-shadow ) {
						@include box-shadow( inset 0 3px 0px 0px darken( $color, 15% ) );
					}
				}
			}
		}
	}	
}
// Clear button hover colors
@mixin clear-hover-color( $name, $color ) {
	&.button-#{$name} {
		// @include transition( box-shadow $button-transition-time ease );
		&:hover {
			@if lightness($color) > lightness(#aaa) {
				color: $text-color;
			} @else {
				color: $dark-button-text-color;
			}
			@if ( $button-has-background ) {
				@include background( $color );	
			}
			@if ( $button-has-text-shadow ) {
				@include text-shadow( 0 1px 0 darken( rgba( $color, 0.8), 20% ) );
			}
			// @if ( $button-has-box-shadow ) {
				// @include box-shadow( 0 $button-border-width 0 0 darken( $color, 15% ) );
			// }
		}
	}
}


// ==========================
// COLORES
// ==========================
// Botones comunes
.button {
	@each $single-color in $button-colors {
		@include button-color( nth($single-color, 1), nth($single-color, 2) );
	}
}
// Botones sin fondo
.button.clear {
	&.hover { // ES CLASE, NO PSEUDO CLASS!
		@include transition( 
			background $button-transition-time ease,
			text-shadow $button-transition-time ease 
		);
		@each $single-color in $button-colors {
			@include clear-hover-color( nth($single-color, 1), nth($single-color, 2) );
		}
	}
}
// Link button colors
.button.link {
	@include text-shadow(none);
	@each $single-color in $button-colors {
		&.#{nth($single-color, 1)}	{ color: nth($single-color, 2); }
	}
}
// Botones en grupo
.button-group {
	@each $single-color in $button-colors {
		@include button-group-color( nth($single-color, 1), nth($single-color, 2) );
	}
}


// =================
// BUTTON SIZES
// =================
// A partir de 0.1.0 las clases para los tama√±os
// llevan el prefijo "button-"
// Lo que antes era en html "button slim" ahora es "button button-slim"
.button {
	padding-top: 0;
	padding-bottom: 0;
	padding-left: $button-offset;
	padding-right: $button-offset;
	&.button-slim {
		padding-left: $button-offset / 2;
		padding-right: $button-offset / 2;		
	}
	&.button-medium {
		padding-left: $button-offset * 1.25;
		padding-right: $button-offset * 1.25;
		font-size: 16px;
		line-height: 40px;
	}
	&.button-large {
		padding-top: $button-offset / 1.75;
		padding-bottom: $button-offset / 1.75;
		padding-left: $button-offset;
		padding-right: $button-offset;
		font-size: 24px;
		font-weight: 300;
		line-height: 20px;
	}
	&.button-big {
		padding-top: $button-offset / 1.5;
		padding-bottom: $button-offset / 1.5;
		padding-left: $button-offset * 2;
		padding-right: $button-offset * 2;
		font-size: 24px;
		font-weight: 300;
		line-height: 24px;
	}
}


// ==========================
// BUTTON GROUP
// ==========================
.button-group {
	padding: 0;
	margin: 0;
	line-height: em($button-height);
	background: transparent;
	// A simple button inside the group
	.button {
		border-right: none;
		@include border-radius( 0 );
		&:first-child { 
			@include border-radius( $button-radius 0 0 $button-radius ); 
		}
		&:last-child { 
			// border-right-width: 3px;
			// border-right-style: solid;
			@include border-radius( 0 $button-radius $button-radius 0 ); 
		}
		a, button {
			display: block;
			padding-left: $offset;
			padding-right: $offset;
		}
		@if ( $button-has-active-pseudo ) {
			&:active {
				// margin-left: -$button-pressed-offset; // Para ocultar el espacio en blanco que genera el translate3d en el eje X que tienen los .button
			}
		}

	}
	// And if the button is a link?
	a.button, button.button {
		display: block;		
	}
	// What happens if the group turns vertical?
	&.vertical, &.v {
		.button {
			float: none;
			@include border-radius( 0 );
			// &:first-child { @include border-radius( $button-radius $button-radius 0 0 ); }
			// &:last-child { @include border-radius( 0 0 $button-radius $button-radius ); }			
		}
	}
}

// =================
// EL BOTON
// =================
.button {
	display: block;
	float: left;
	text-decoration: none;
	text-align: center;
	line-height: em($button-height);
	font-size: em($button-font-size); // 0.9em
	cursor: pointer;
	color: $button-default-text;
	// Border
	@if ( $button-has-border ) {
		border-width: $button-border-width;
		border-style: solid;
	} @else {
		border: 0;		
	}
	// Background
	@if ( $button-has-background ) {
		@include background( $button-default-bg );
		@include transition( background $button-transition-time ease );
	}
	@if ( $button-has-box-shadow ) {
		@include box-shadow( 0 $button-border-width 0 0 darken($button-default-bg, 25%) );
	}
	@include border-radius( $button-radius );
	*zoom: 1;
	&:hover, &:active {
		@if ( $button-has-background ) {
			background: darken($button-default-bg, 10%);
		}
	}
	@if ( $button-has-active-pseudo ) {
		&:active, &.active {
			@include transform( translateY( $button-pressed-offset ) );
			@include box-shadow( none );
		}
	}
	&:focus {
		outline: none;
	}
	&[disabled], &.disabled {
		color: #999;
		@include background( #f1f1f1 );
	}
	// Boton sin background
	&.clear {
		color: $text-color;
		&:active, &.active {
			@include transform( none );
		}
	}
	// No Style Button
	&.link {
		padding: 0;
		line-height: inherit;
		font-size: 0.9em;
	}
	&.clear, &.link {
		height: auto;
		outline: none;
		border: 0;
		@include background( transparent );
		@include box-shadow( none );
		@include text-shadow( none );
		&:hover {
			text-decoration: none;
			@include background( transparent );
		}
		&:active {
			@include transform( none );
		}
		&[disabled], &.disabled {
			text-decoration: none;
			color: #999;
		}
	}
	&, a, button {	}
	// ALIGN
	&.inline-block, &.inline {
		float: none;
	}
	&.inline-block { 
		display: inline-block; 
	}
	&.inline { 
		display: inline; 
	}
}


// ============================
// BOTON CON F-ICON DENTRO
// ============================
.button {
	.ficon {
		display: inline-block;
		font-style: normal;
		font-weight: normal;
		top: 0.05em;
		margin-right: 0.1em;
		-webkit-font-smoothing: antialiased;
	}
}